import{S as t,i as e,s as n,e as s,q as a,k as o,t as r,c,a as $,r as i,l as m,b as p,d as l,f as u,g as f,u as g,h as d,j as x,v as h,w,x as b,G as y,y as v,z as C,A as E,C as N,L as S,D as j,E as A}from"./client.20eba85d.js";import{P}from"./Post.b048279f.js";import{B,P as k}from"./Button.546ad490.js";function I(t){let e;return{c(){e=r("Anterior")},l(t){e=p(t,"Anterior")},m(t,n){f(t,e,n)},d(t){t&&l(e)}}}function O(t){let e;return{c(){e=r("Proximo")},l(t){e=p(t,"Proximo")},m(t,n){f(t,e,n)},d(t){t&&l(e)}}}function J(t){let e,n,y,v,C,E;const N=new B({props:{disabled:t[0]<=1,className:"mx-2",$$slots:{default:[I]},$$scope:{ctx:t}}});N.$on("click",t[2]);const S=new B({props:{className:"mx-2",$$slots:{default:[O]},$$scope:{ctx:t}}});return S.$on("click",t[3]),{c(){e=s("section"),a(N.$$.fragment),n=o(),y=s("span"),v=r(t[0]),C=o(),a(S.$$.fragment),this.h()},l(s){e=c(s,"SECTION",{class:!0});var a=$(e);i(N.$$.fragment,a),n=m(a),y=c(a,"SPAN",{class:!0});var o=$(y);v=p(o,t[0]),o.forEach(l),C=m(a),i(S.$$.fragment,a),a.forEach(l),this.h()},h(){u(y,"class","w-auto border-none bg-primary-400 px-6 py-2 text-white text-lg"),u(e,"class","flex justify-center items-center my-8 ")},m(t,s){f(t,e,s),g(N,e,null),d(e,n),d(e,y),d(y,v),d(e,C),g(S,e,null),E=!0},p(t,[e]){const n={};1&e&&(n.disabled=t[0]<=1),16&e&&(n.$$scope={dirty:e,ctx:t}),N.$set(n),(!E||1&e)&&x(v,t[0]);const s={};16&e&&(s.$$scope={dirty:e,ctx:t}),S.$set(s)},i(t){E||(h(N.$$.fragment,t),h(S.$$.fragment,t),E=!0)},o(t){w(N.$$.fragment,t),w(S.$$.fragment,t),E=!1},d(t){t&&l(e),b(N),b(S)}}}function L(t,e,n){let{pageCount:s=1}=e;const a=y();return t.$set=t=>{"pageCount"in t&&n(0,s=t.pageCount)},[s,a,()=>a("prev"),()=>a("next")]}class W extends t{constructor(t){super(),e(this,t,L,J,n,{pageCount:0})}}function _(t){let e;const n=new S({});return{c(){a(n.$$.fragment)},l(t){i(n.$$.fragment,t)},m(t,s){g(n,t,s),e=!0},i(t){e||(h(n.$$.fragment,t),e=!0)},o(t){w(n.$$.fragment,t),e=!1},d(t){b(n,t)}}}function q(t){let e,n,s,r,c,$,p;document.title=e="WAB - artigos página "+t[0];const u=new W({props:{pageCount:t[0]}});u.$on("prev",t[5]),u.$on("next",t[4]);const d=new k({props:{posts:t[1]}});d.$on("getpost",t[7]);const x=new W({props:{pageCount:t[0]}});x.$on("prev",t[5]),x.$on("next",t[4]);let y=t[2]&&_();return{c(){n=o(),a(u.$$.fragment),s=o(),a(d.$$.fragment),r=o(),a(x.$$.fragment),c=o(),y&&y.c(),$=v()},l(t){C('[data-svelte="svelte-116gbmi"]',document.head).forEach(l),n=m(t),i(u.$$.fragment,t),s=m(t),i(d.$$.fragment,t),r=m(t),i(x.$$.fragment,t),c=m(t),y&&y.l(t),$=v()},m(t,e){f(t,n,e),g(u,t,e),f(t,s,e),g(d,t,e),f(t,r,e),g(x,t,e),f(t,c,e),y&&y.m(t,e),f(t,$,e),p=!0},p(t,[n]){(!p||1&n)&&e!==(e="WAB - artigos página "+t[0])&&(document.title=e);const s={};1&n&&(s.pageCount=t[0]),u.$set(s);const a={};2&n&&(a.posts=t[1]),d.$set(a);const o={};1&n&&(o.pageCount=t[0]),x.$set(o),t[2]?y?4&n&&h(y,1):(y=_(),y.c(),h(y,1),y.m($.parentNode,$)):y&&(j(),w(y,1,1,()=>{y=null}),E())},i(t){p||(h(u.$$.fragment,t),h(d.$$.fragment,t),h(x.$$.fragment,t),h(y),p=!0)},o(t){w(u.$$.fragment,t),w(d.$$.fragment,t),w(x.$$.fragment,t),w(y),p=!1},d(t){t&&l(n),b(u,t),t&&l(s),b(d,t),t&&l(r),b(x,t),t&&l(c),y&&y.d(t),t&&l($)}}}async function z(t){const{number:e}=t.params;let n,s=[];return n=navigator.onLine?await async function(){let t;const n=await fetch("https://dev.to/api/articles?page="+e);return t=await n.json(),localStorage.setItem("posts"+e,JSON.stringify(t)),t}():function(){const t=JSON.parse(localStorage.getItem("posts"+e));if(!t.length)throw new Error("Error on local storage!");return t}(),s=n.map(t=>P(t.id,t.title,t.description,t.tag_list,t.cover_image)),{posts:s,number:e}}function D(t,e,n){let{posts:s}=e,{number:a}=e,o=!0;async function r(t){await A("/articles/"+t)}N(()=>{n(2,o=!1)});return t.$set=t=>{"posts"in t&&n(1,s=t.posts),"number"in t&&n(0,a=t.number)},[a,s,o,r,async function(){n(2,o=!0),await A("/page/"+n(0,++a)),n(2,o=!1)},async function(){a<=0||(n(2,o=!0),await A("/page/"+n(0,--a)),n(2,o=!1))},void 0,t=>r(t.detail)]}export default class extends t{constructor(t){super(),e(this,t,D,q,n,{posts:1,number:0})}}export{z as preload};

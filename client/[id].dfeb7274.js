import{S as t,i as e,s,e as a,t as l,c as r,f as o,g as n,d as c,a as i,b as f,h,j as p,k as u,m as g,n as m,o as d,r as v,G as x,u as b,v as y,w as $,x as w,y as E}from"./client.2848427a.js";import{P as j}from"./Post.b048279f.js";function S(t,e,s){const a=t.slice();return a[3]=e[s],a}function N(t){let e,s,u=t[3]+"";return{c(){e=a("small"),s=l(u),this.h()},l(t){e=r(t,"SMALL",{class:!0});var a=o(e);s=n(a,u),a.forEach(c),this.h()},h(){i(e,"class","mx-4 my-2")},m(t,a){f(t,e,a),h(e,s)},p(t,e){4&e&&u!==(u=t[3]+"")&&p(s,u)},d(t){t&&c(e)}}}function I(t){let e,s,v,x,b,y,$,w,E,j,I=t[2],L=[];for(let e=0;e<I.length;e+=1)L[e]=N(S(t,I,e));return{c(){e=a("header"),s=a("img"),x=u(),b=a("div"),y=u(),$=a("span");for(let t=0;t<L.length;t+=1)L[t].c();w=u(),E=a("h1"),j=l(t[0]),this.h()},l(a){e=r(a,"HEADER",{class:!0});var l=o(e);s=r(l,"IMG",{class:!0,src:!0,alt:!0}),x=g(l),b=r(l,"DIV",{class:!0}),o(b).forEach(c),y=g(l),$=r(l,"SPAN",{class:!0});var i=o($);for(let t=0;t<L.length;t+=1)L[t].l(i);i.forEach(c),w=g(l),E=r(l,"H1",{class:!0});var f=o(E);j=n(f,t[0]),f.forEach(c),l.forEach(c),this.h()},h(){i(s,"class","absolute top-0 left-0 w-full h-full object-cover pointer-events-none"),s.src!==(v=t[1])&&i(s,"src",v),i(s,"alt",t[0]),i(b,"class","absolute top-0 left-0 w-full h-full bg-black opacity-50\r\n    pointer-events-none"),i($,"class","relative flex flex-wrap justify-center"),i(E,"class","relative text-6xl font-bold"),i(e,"class","relative flex flex-col justify-center items-center mb-20 -mt-20 -mx-5\r\n  py-20 px-10 text-white text-center")},m(t,a){f(t,e,a),h(e,s),h(e,x),h(e,b),h(e,y),h(e,$);for(let t=0;t<L.length;t+=1)L[t].m($,null);h(e,w),h(e,E),h(E,j)},p(t,[e]){if(2&e&&s.src!==(v=t[1])&&i(s,"src",v),1&e&&i(s,"alt",t[0]),4&e){let s;for(I=t[2],s=0;s<I.length;s+=1){const a=S(t,I,s);L[s]?L[s].p(a,e):(L[s]=N(a),L[s].c(),L[s].m($,null))}for(;s<L.length;s+=1)L[s].d(1);L.length=I.length}1&e&&p(j,t[0])},i:m,o:m,d(t){t&&c(e),d(L,t)}}}function L(t,e,s){let{title:a}=e,{cover:l}=e,{tags:r}=e;return t.$set=t=>{"title"in t&&s(0,a=t.title),"cover"in t&&s(1,l=t.cover),"tags"in t&&s(2,r=t.tags)},[a,l,r]}class A extends t{constructor(t){super(),e(this,t,L,I,s,{title:0,cover:1,tags:2})}}function H(t){let e,s,l,n,p,m,d=t[0].body+"";document.title=e="WAB - "+(t[0].title||"Não foi possivel carregar");const j=new A({props:{title:t[0].title,tags:t[0].tags,cover:t[0].img}});return{c(){s=a("link"),l=u(),v(j.$$.fragment),n=u(),p=a("section"),this.h()},l(t){const e=x('[data-svelte="svelte-nq4c5j"]',document.head);s=r(e,"LINK",{rel:!0,href:!0}),e.forEach(c),l=g(t),b(j.$$.fragment,t),n=g(t),p=r(t,"SECTION",{class:!0}),o(p).forEach(c),this.h()},h(){i(s,"rel","stylesheet"),i(s,"href","article.css"),i(p,"class","wab-article px-20")},m(t,e){h(document.head,s),f(t,l,e),y(j,t,e),f(t,n,e),f(t,p,e),p.innerHTML=d,m=!0},p(t,[s]){(!m||1&s)&&e!==(e="WAB - "+(t[0].title||"Não foi possivel carregar"))&&(document.title=e);const a={};1&s&&(a.title=t[0].title),1&s&&(a.tags=t[0].tags),1&s&&(a.cover=t[0].img),j.$set(a),(!m||1&s)&&d!==(d=t[0].body+"")&&(p.innerHTML=d)},i(t){m||($(j.$$.fragment,t),m=!0)},o(t){w(j.$$.fragment,t),m=!1},d(t){c(s),t&&c(l),E(j,t),t&&c(n),t&&c(p)}}}async function M(t){const{id:e}=t.params,s=async()=>{const t=await this.fetch("https://dev.to/api/articles/"+e);let s=await t.json();const a=j(s.id,s.title,s.description,s.tags,s.cover_image,s.body_html);return localStorage.setItem("article"+a.id,JSON.stringify(a)),a};let a;return a=navigator.onLine?await s():(()=>{let t=j();return t=JSON.parse(localStorage.getItem("article"+e)),t||t.id?t:(console.log("post não disponivel offline!"),{})})(),{post:a}}function k(t,e,s){let{post:a=j()}=e;return t.$set=t=>{"post"in t&&s(0,a=t.post)},[a]}export default class extends t{constructor(t){super(),e(this,t,k,H,s,{post:0})}}export{M as preload};

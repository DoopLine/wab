import{_ as t,a as n,b as e,c as r,i as a,s as c,d as s,S as o,e as i,t as f,f as l,k as u,m as h,j as p,g as v,h as g,n as m,o as d,p as y,q as x,r as b,u as R,v as $,P as w,Q as E,y as S,L as j,z as k,A as D,B as L,C as N,D as A}from"./client.cda186c6.js";import{P as I}from"./Post.a5d586c7.js";function P(t){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var a,c=n(t);if(r){var s=n(this).constructor;a=Reflect.construct(c,arguments,s)}else a=c.apply(this,arguments);return e(this,a)}}function H(t,n,e){var r=t.slice();return r[3]=n[e],r}function M(t){var n,e,r=t[3]+"";return{c:function(){n=i("small"),e=f(r),this.h()},l:function(t){n=l(t,"SMALL",{class:!0});var a=u(n);e=h(a,r),a.forEach(p),this.h()},h:function(){v(n,"class","mx-4 my-2")},m:function(t,r){g(t,n,r),m(n,e)},p:function(t,n){4&n&&r!==(r=t[3]+"")&&d(e,r)},d:function(t){t&&p(n)}}}function B(t){for(var n,e,r,a,c,s,o,w,E,S,j=t[2],k=[],D=0;D<j.length;D+=1)k[D]=M(H(t,j,D));return{c:function(){n=i("header"),e=i("img"),a=y(),c=i("div"),s=y(),o=i("span");for(var r=0;r<k.length;r+=1)k[r].c();w=y(),E=i("h1"),S=f(t[0]),this.h()},l:function(r){n=l(r,"HEADER",{class:!0});var i=u(n);e=l(i,"IMG",{class:!0,src:!0,alt:!0}),a=x(i),c=l(i,"DIV",{class:!0}),u(c).forEach(p),s=x(i),o=l(i,"SPAN",{class:!0});for(var f=u(o),v=0;v<k.length;v+=1)k[v].l(f);f.forEach(p),w=x(i),E=l(i,"H1",{class:!0});var g=u(E);S=h(g,t[0]),g.forEach(p),i.forEach(p),this.h()},h:function(){v(e,"class","absolute top-0 left-0 w-full h-full object-cover pointer-events-none"),e.src!==(r=t[1])&&v(e,"src",r),v(e,"alt",t[0]),v(c,"class","absolute top-0 left-0 w-full h-full bg-black opacity-50\r\n    pointer-events-none"),v(o,"class","relative flex flex-wrap justify-center"),v(E,"class","relative text-6xl font-bold"),v(n,"class","relative flex flex-col justify-center items-center mb-20 -mt-20 -mx-5\r\n  py-20 px-10 text-white text-center")},m:function(t,r){g(t,n,r),m(n,e),m(n,a),m(n,c),m(n,s),m(n,o);for(var i=0;i<k.length;i+=1)k[i].m(o,null);m(n,w),m(n,E),m(E,S)},p:function(t,n){var a=b(n,1)[0];if(2&a&&e.src!==(r=t[1])&&v(e,"src",r),1&a&&v(e,"alt",t[0]),4&a){var c;for(j=t[2],c=0;c<j.length;c+=1){var s=H(t,j,c);k[c]?k[c].p(s,a):(k[c]=M(s),k[c].c(),k[c].m(o,null))}for(;c<k.length;c+=1)k[c].d(1);k.length=j.length}1&a&&d(S,t[0])},i:R,o:R,d:function(t){t&&p(n),$(k,t)}}}function O(t,n,e){var r=n.title,a=n.cover,c=n.tags;return t.$set=function(t){"title"in t&&e(0,r=t.title),"cover"in t&&e(1,a=t.cover),"tags"in t&&e(2,c=t.tags)},[r,a,c]}var T=function(n){t(i,o);var e=P(i);function i(t){var n;return r(this,i),n=e.call(this),a(s(n),t,O,B,c,{title:0,cover:1,tags:2}),n}return i}();function _(t){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var a,c=n(t);if(r){var s=n(this).constructor;a=Reflect.construct(c,arguments,s)}else a=c.apply(this,arguments);return e(this,a)}}function q(t){var n,e,r,a,c,s,o=t[0].body+"";document.title=n="WAB - "+(t[0].title||"Não foi possivel carregar");var f=new T({props:{title:t[0].title,tags:t[0].tags,cover:t[0].img}});return{c:function(){e=i("link"),r=y(),S(f.$$.fragment),a=y(),c=i("section"),this.h()},l:function(t){var n=j('[data-svelte="svelte-nq4c5j"]',document.head);e=l(n,"LINK",{rel:!0,href:!0}),n.forEach(p),r=x(t),k(f.$$.fragment,t),a=x(t),c=l(t,"SECTION",{class:!0}),u(c).forEach(p),this.h()},h:function(){v(e,"rel","stylesheet"),v(e,"href","article.css"),v(c,"class","wab-article px-20")},m:function(t,n){m(document.head,e),g(t,r,n),D(f,t,n),g(t,a,n),g(t,c,n),c.innerHTML=o,s=!0},p:function(t,e){var r=b(e,1)[0];(!s||1&r)&&n!==(n="WAB - "+(t[0].title||"Não foi possivel carregar"))&&(document.title=n);var a={};1&r&&(a.title=t[0].title),1&r&&(a.tags=t[0].tags),1&r&&(a.cover=t[0].img),f.$set(a),(!s||1&r)&&o!==(o=t[0].body+"")&&(c.innerHTML=o)},i:function(t){s||(L(f.$$.fragment,t),s=!0)},o:function(t){N(f.$$.fragment,t),s=!1},d:function(t){p(e),t&&p(r),A(f,t),t&&p(a),t&&p(c)}}}function C(t){return J.apply(this,arguments)}function J(){return(J=w(E.mark((function t(n){var e,r,a,c,s=this;return E.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=n.params.id,r=function(){var t=w(E.mark((function t(){var n,r,a;return E.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.fetch("https://dev.to/api/articles/".concat(e));case 2:return n=t.sent,t.next=5,n.json();case 5:return r=t.sent,a=I(r.id,r.title,r.description,r.tags,r.cover_image,r.body_html),localStorage.setItem("article".concat(a.id),JSON.stringify(a)),t.abrupt("return",a);case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),a=function(){var t=I();return(t=JSON.parse(localStorage.getItem("article".concat(e))))||t.id?t:(console.log("post não disponivel offline!"),{})},!navigator.onLine){t.next=10;break}return t.next=7,r();case 7:c=t.sent,t.next=11;break;case 10:c=a();case 11:return t.abrupt("return",{post:c});case 12:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function W(t,n,e){var r=n.post,a=void 0===r?I():r;return t.$set=function(t){"post"in t&&e(0,a=t.post)},[a]}var z=function(n){t(i,o);var e=_(i);function i(t){var n;return r(this,i),n=e.call(this),a(s(n),t,W,q,c,{post:0}),n}return i}();export default z;export{C as preload};

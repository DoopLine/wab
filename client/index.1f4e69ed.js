import{S as t,i as s,s as e,e as n,c as a,a as r,b as o,l,d as c,t as i,f,g as u,h as p,j as m,k as g,m as h,n as $,o as d,p as x,q as b,r as v,u as w,v as y,w as E,x as N,y as k,z as C,A as P,B as S,C as A,D as I,E as j,F as B,G as O,H as T,I as q,L as z,J as L,K as H}from"./client.2848427a.js";import{P as J}from"./Post.b048279f.js";function W(t,s,e){const n=t.slice();return n[3]=s[e],n}function D(t){let s,e,i;return{c(){s=n("img"),this.h()},l(t){s=a(t,"IMG",{loading:!0,class:!0,src:!0,alt:!0}),this.h()},h(){r(s,"loading","lazy"),r(s,"class","mb-3"),s.src!==(e=t[0].img)&&r(s,"src",e),r(s,"alt","teste")},m(t,e,n){o(t,s,e),n&&i(),i=l(s,"error",K)},p(t,n){1&n&&s.src!==(e=t[0].img)&&r(s,"src",e)},d(t){t&&c(s),i()}}}function G(t){let s,e,l=t[3]+"";return{c(){s=n("p"),e=i(l),this.h()},l(t){s=a(t,"P",{class:!0});var n=f(s);e=u(n,l),n.forEach(c),this.h()},h(){r(s,"class","font-semibold text-primary-400 my-1 mx-2")},m(t,n){o(t,s,n),p(s,e)},p(t,s){1&s&&l!==(l=t[3]+"")&&m(e,l)},d(t){t&&c(s)}}}function _(t){let s,e,x,b,v,w,y,E,N,k,C,P=t[0].title+"",S=F(t[0].desc)+"",A=t[0].img&&D(t),I=t[0].tags,j=[];for(let s=0;s<I.length;s+=1)j[s]=G(W(t,I,s));return{c(){s=n("article"),e=n("div"),A&&A.c(),x=g(),b=n("span");for(let t=0;t<j.length;t+=1)j[t].c();v=g(),w=n("h1"),y=i(P),E=g(),N=n("h3"),k=i(S),this.h()},l(t){s=a(t,"ARTICLE",{class:!0});var n=f(s);e=a(n,"DIV",{class:!0});var r=f(e);A&&A.l(r),x=h(r),b=a(r,"SPAN",{class:!0});var o=f(b);for(let t=0;t<j.length;t+=1)j[t].l(o);o.forEach(c),v=h(r),w=a(r,"H1",{class:!0});var l=f(w);y=u(l,P),l.forEach(c),E=h(r),N=a(r,"H3",{class:!0});var i=f(N);k=u(i,S),i.forEach(c),r.forEach(c),n.forEach(c),this.h()},h(){r(b,"class","flex flex-wrap m-2"),r(w,"class","text-2xl text-primary-800 font-bold mb-1 px-4"),r(N,"class","text-primary-700 text-lg px-4 pb-4"),r(e,"class","shadow-xs cursor-pointer"),r(s,"class","w-full md:w-1/3 break-words p-4 ")},m(n,a,r){o(n,s,a),p(s,e),A&&A.m(e,null),p(e,x),p(e,b);for(let t=0;t<j.length;t+=1)j[t].m(b,null);p(e,v),p(e,w),p(w,y),p(e,E),p(e,N),p(N,k),r&&C(),C=l(e,"click",t[2])},p(t,[s]){if(t[0].img?A?A.p(t,s):(A=D(t),A.c(),A.m(e,x)):A&&(A.d(1),A=null),1&s){let e;for(I=t[0].tags,e=0;e<I.length;e+=1){const n=W(t,I,e);j[e]?j[e].p(n,s):(j[e]=G(n),j[e].c(),j[e].m(b,null))}for(;e<j.length;e+=1)j[e].d(1);j.length=I.length}1&s&&P!==(P=t[0].title+"")&&m(y,P),1&s&&S!==(S=F(t[0].desc)+"")&&m(k,S)},i:$,o:$,d(t){t&&c(s),A&&A.d(),d(j,t),C()}}}function F(t=""){if(t.length<120)return t;const s=t.substring(0,120);return s.endsWith("...")?s:s+"..."}function K(t){t.target.src="/successkid.jpg"}function M(t,s,e){let{post:n}=s;const a=x();return t.$set=t=>{"post"in t&&e(0,n=t.post)},[n,a,function(s){b(t,s)}]}class R extends t{constructor(t){super(),s(this,t,M,_,e,{post:0})}}function U(t,s,e){const n=t.slice();return n[3]=s[e],n}function V(t){let s;const e=new R({props:{post:t[3]}});return e.$on("click",(function(...s){return t[2](t[3],...s)})),{c(){v(e.$$.fragment)},l(t){w(e.$$.fragment,t)},m(t,n){y(e,t,n),s=!0},p(s,n){t=s;const a={};1&n&&(a.post=t[3]),e.$set(a)},i(t){s||(E(e.$$.fragment,t),s=!0)},o(t){N(e.$$.fragment,t),s=!1},d(t){k(e,t)}}}function Q(t){let s,e,l=t[0],i=[];for(let s=0;s<l.length;s+=1)i[s]=V(U(t,l,s));const u=t=>N(i[t],1,1,()=>{i[t]=null});return{c(){s=n("section");for(let t=0;t<i.length;t+=1)i[t].c();this.h()},l(t){s=a(t,"SECTION",{class:!0});var e=f(s);for(let t=0;t<i.length;t+=1)i[t].l(e);e.forEach(c),this.h()},h(){r(s,"class","flex flex-wrap -m-4")},m(t,n){o(t,s,n);for(let t=0;t<i.length;t+=1)i[t].m(s,null);e=!0},p(t,[e]){if(3&e){let n;for(l=t[0],n=0;n<l.length;n+=1){const a=U(t,l,n);i[n]?(i[n].p(a,e),E(i[n],1)):(i[n]=V(a),i[n].c(),E(i[n],1),i[n].m(s,null))}for(C(),n=l.length;n<i.length;n+=1)u(n);P()}},i(t){if(!e){for(let t=0;t<l.length;t+=1)E(i[t]);e=!0}},o(t){i=i.filter(Boolean);for(let t=0;t<i.length;t+=1)N(i[t]);e=!1},d(t){t&&c(s),d(i,t)}}}function X(t,s,e){let{posts:n}=s;const a=x();return t.$set=t=>{"posts"in t&&e(0,n=t.posts)},[n,a,t=>a("getpost",t.id)]}class Y extends t{constructor(t){super(),s(this,t,X,Q,e,{posts:0})}}function Z(t){let s,e,p,m;const g=t[3].default,h=S(g,t,t[2],null),$=h||function(t){let s;return{c(){s=i("lorem")},l(t){s=u(t,"lorem")},m(t,e){o(t,s,e)},d(t){t&&c(s)}}}();return{c(){s=n("button"),$&&$.c(),this.h()},l(t){s=a(t,"BUTTON",{disabled:!0,class:!0});var e=f(s);$&&$.l(e),e.forEach(c),this.h()},h(){s.disabled=t[1],r(s,"class",e=A("w-auto border-none bg-primary-500 hover:bg-primary-700 px-6 py-2 text-white transition duration-300 ease-in-out "+t[0])+" svelte-1vwbqcr")},m(e,n,a){o(e,s,n),$&&$.m(s,null),p=!0,a&&m(),m=l(s,"click",t[4])},p(t,[n]){h&&h.p&&4&n&&h.p(I(g,t,t[2],null),j(g,t[2],n,null)),(!p||2&n)&&(s.disabled=t[1]),(!p||1&n&&e!==(e=A("w-auto border-none bg-primary-500 hover:bg-primary-700 px-6 py-2 text-white transition duration-300 ease-in-out "+t[0])+" svelte-1vwbqcr"))&&r(s,"class",e)},i(t){p||(E($,t),p=!0)},o(t){N($,t),p=!1},d(t){t&&c(s),$&&$.d(t),m()}}}function tt(t,s,e){let{className:n}=s,{disabled:a=!1}=s,{$$slots:r={},$$scope:o}=s;return t.$set=t=>{"className"in t&&e(0,n=t.className),"disabled"in t&&e(1,a=t.disabled),"$$scope"in t&&e(2,o=t.$$scope)},[n,a,o,r,function(s){b(t,s)}]}class st extends t{constructor(t){super(),s(this,t,tt,Z,e,{className:0,disabled:1})}}function et(t){let s;return{c(){s=i("Anterior")},l(t){s=u(t,"Anterior")},m(t,e){o(t,s,e)},d(t){t&&c(s)}}}function nt(t){let s;return{c(){s=i("Proximo")},l(t){s=u(t,"Proximo")},m(t,e){o(t,s,e)},d(t){t&&c(s)}}}function at(t){let s,e,l,$,d,x;const b=new st({props:{disabled:t[0]<=1,className:"mx-2",$$slots:{default:[et]},$$scope:{ctx:t}}});b.$on("click",t[2]);const C=new st({props:{className:"mx-2",$$slots:{default:[nt]},$$scope:{ctx:t}}});return C.$on("click",t[3]),{c(){s=n("section"),v(b.$$.fragment),e=g(),l=n("span"),$=i(t[0]),d=g(),v(C.$$.fragment),this.h()},l(n){s=a(n,"SECTION",{class:!0});var r=f(s);w(b.$$.fragment,r),e=h(r),l=a(r,"SPAN",{class:!0});var o=f(l);$=u(o,t[0]),o.forEach(c),d=h(r),w(C.$$.fragment,r),r.forEach(c),this.h()},h(){r(l,"class","w-auto border-none bg-primary-400 px-6 py-2 text-white text-lg"),r(s,"class","flex justify-center items-center mt-8 ")},m(t,n){o(t,s,n),y(b,s,null),p(s,e),p(s,l),p(l,$),p(s,d),y(C,s,null),x=!0},p(t,[s]){const e={};1&s&&(e.disabled=t[0]<=1),16&s&&(e.$$scope={dirty:s,ctx:t}),b.$set(e),(!x||1&s)&&m($,t[0]);const n={};16&s&&(n.$$scope={dirty:s,ctx:t}),C.$set(n)},i(t){x||(E(b.$$.fragment,t),E(C.$$.fragment,t),x=!0)},o(t){N(b.$$.fragment,t),N(C.$$.fragment,t),x=!1},d(t){t&&c(s),k(b),k(C)}}}function rt(t,s,e){let{pageCount:n=1}=s;const a=x();return t.$set=t=>{"pageCount"in t&&e(0,n=t.pageCount)},[n,a,()=>a("prev"),()=>a("next")]}class ot extends t{constructor(t){super(),s(this,t,rt,at,e,{pageCount:0})}}function lt(t){let s;const e=new z({});return{c(){v(e.$$.fragment)},l(t){w(e.$$.fragment,t)},m(t,n){y(e,t,n),s=!0},i(t){s||(E(e.$$.fragment,t),s=!0)},o(t){N(e.$$.fragment,t),s=!1},d(t){k(e,t)}}}function ct(t){let s,e,n,a,r;const l=new Y({props:{posts:t[0]}});l.$on("getpost",t[8]);const i=new ot({props:{pageCount:t[2]}});i.$on("prev",t[5]),i.$on("next",t[4]);let f=t[1]&&lt();return{c(){s=g(),v(l.$$.fragment),e=g(),v(i.$$.fragment),n=g(),f&&f.c(),a=B(),this.h()},l(t){O('[data-svelte="svelte-yzlqez"]',document.head).forEach(c),s=h(t),w(l.$$.fragment,t),e=h(t),w(i.$$.fragment,t),n=h(t),f&&f.l(t),a=B(),this.h()},h(){document.title="WAB - WorkAttack Blog"},m(t,c){o(t,s,c),y(l,t,c),o(t,e,c),y(i,t,c),o(t,n,c),f&&f.m(t,c),o(t,a,c),r=!0},p(t,[s]){const e={};1&s&&(e.posts=t[0]),l.$set(e);const n={};4&s&&(n.pageCount=t[2]),i.$set(n),t[1]?f?2&s&&E(f,1):(f=lt(),f.c(),E(f,1),f.m(a.parentNode,a)):f&&(C(),N(f,1,1,()=>{f=null}),P())},i(t){r||(E(l.$$.fragment,t),E(i.$$.fragment,t),E(f),r=!0)},o(t){N(l.$$.fragment,t),N(i.$$.fragment,t),N(f),r=!1},d(t){t&&c(s),k(l,t),t&&c(e),k(i,t),t&&c(n),f&&f.d(t),t&&c(a)}}}function it(t,s,e){let n,a;T(t,H,t=>e(2,n=t));let r=[],o=!0;async function l(){let t,s;if(console.log(navigator.onLine),a)t=await fetch(a?"https://dev.to/api/articles?page="+n:"/data/posts.json"),s=await t.json();else{const t=JSON.parse(localStorage.getItem("posts"));if(!t.length)throw new Error("Error on local storage!");s=t}localStorage.setItem("posts"+n,JSON.stringify(s)),e(0,r=s.map(t=>J(t.id,t.title,t.description,t.tag_list,t.cover_image))),e(1,o=!1)}async function c(t){await L("/articles/"+t)}q(()=>{a=navigator.onLine,e(1,o=!0),l()});return[r,o,n,c,function(){H.nextPage(),e(1,o=!0),l()},function(){n<=0||(H.prevPage(),e(1,o=!0),l())},a,l,t=>c(t.detail)]}export default class extends t{constructor(t){super(),s(this,t,it,ct,e,{})}}

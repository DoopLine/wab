import{S as t,i as e,s,e as a,t as n,c as l,a as r,b as o,d as c,f as i,g as f,h as m,j as p,k as g,l as u,m as $,n as h,o as d,p as x,q as v,r as w,u as y,v as E,w as b,x as j,y as k,z as S,A,B,C as N,L as I,D as L,E as P,F as z}from"./client.20eba85d.js";import{P as D}from"./Post.b048279f.js";import{P as H,B as V}from"./Button.546ad490.js";function q(t,e,s){const a=t.slice();return a[2]=e[s],a}function J(t){let e,s,g=t[2]+"";return{c(){e=a("small"),s=n(g),this.h()},l(t){e=l(t,"SMALL",{class:!0});var a=r(e);s=o(a,g),a.forEach(c),this.h()},h(){i(e,"class","mx-4 my-2")},m(t,a){f(t,e,a),m(e,s)},p(t,e){1&e&&g!==(g=t[2]+"")&&p(s,g)},d(t){t&&c(e)}}}function M(t){let e,s,x,v,w,y,E,b,j,k,S,A,B,N,I,L=t[0].title+"",P=t[0].desc+"",z=t[0].tags,D=[];for(let e=0;e<z.length;e+=1)D[e]=J(q(t,z,e));return{c(){e=a("header"),s=a("img"),w=g(),y=a("div"),E=g(),b=a("span");for(let t=0;t<D.length;t+=1)D[t].c();j=g(),k=a("h1"),S=n(L),A=g(),B=a("h3"),N=n(P),this.h()},l(t){e=l(t,"HEADER",{class:!0});var a=r(e);s=l(a,"IMG",{class:!0,src:!0,alt:!0}),w=u(a),y=l(a,"DIV",{class:!0}),r(y).forEach(c),E=u(a),b=l(a,"SPAN",{class:!0});var n=r(b);for(let t=0;t<D.length;t+=1)D[t].l(n);n.forEach(c),j=u(a),k=l(a,"H1",{class:!0});var i=r(k);S=o(i,L),i.forEach(c),A=u(a),B=l(a,"H3",{class:!0});var f=r(B);N=o(f,P),f.forEach(c),a.forEach(c),this.h()},h(){i(s,"class","absolute top-0 left-0 w-full h-full object-cover pointer-events-none"),s.src!==(x=t[0].img)&&i(s,"src",x),i(s,"alt",v=t[0].title),i(y,"class","absolute top-0 left-0 w-full h-full bg-black opacity-50\r\n    pointer-events-none"),i(b,"class","relative flex flex-wrap justify-center"),i(k,"class","relative text-4xl md:text-6xl font-bold"),i(B,"class","relative text-gray-100 text-lg px-4 pb-4"),i(e,"class","relative cursor-pointer flex max-w-screen-xl flex-col justify-center\r\n  items-center mb-20 -mt-20 py-20 px-10 text-white text-center")},m(a,n,l){f(a,e,n),m(e,s),m(e,w),m(e,y),m(e,E),m(e,b);for(let t=0;t<D.length;t+=1)D[t].m(b,null);m(e,j),m(e,k),m(k,S),m(e,A),m(e,B),m(B,N),l&&I(),I=$(e,"click",t[1])},p(t,[e]){if(1&e&&s.src!==(x=t[0].img)&&i(s,"src",x),1&e&&v!==(v=t[0].title)&&i(s,"alt",v),1&e){let s;for(z=t[0].tags,s=0;s<z.length;s+=1){const a=q(t,z,s);D[s]?D[s].p(a,e):(D[s]=J(a),D[s].c(),D[s].m(b,null))}for(;s<D.length;s+=1)D[s].d(1);D.length=z.length}1&e&&L!==(L=t[0].title+"")&&p(S,L),1&e&&P!==(P=t[0].desc+"")&&p(N,P)},i:h,o:h,d(t){t&&c(e),d(D,t),I()}}}function O(t,e,s){let{post:a=D()}=e;return t.$set=t=>{"post"in t&&s(0,a=t.post)},[a,function(e){x(t,e)}]}class W extends t{constructor(t){super(),e(this,t,O,M,s,{post:0})}}function _(t){let e;return{c(){e=n("Ver mais")},l(t){e=o(t,"Ver mais")},m(t,s){f(t,e,s)},d(t){t&&c(e)}}}function C(t){let e;const s=new I({});return{c(){v(s.$$.fragment)},l(t){w(s.$$.fragment,t)},m(t,a){y(s,t,a),e=!0},i(t){e||(E(s.$$.fragment,t),e=!0)},o(t){b(s.$$.fragment,t),e=!1},d(t){j(s,t)}}}function F(t){let e,s,a,n,l,r;const o=new W({props:{post:t[0][0]}});o.$on("click",t[6]);const i=new H({props:{posts:t[0].slice(1)}});i.$on("getpost",t[7]);const m=new V({props:{className:"items-center mt-4 mx-auto",$$slots:{default:[_]},$$scope:{ctx:t}}});m.$on("click",t[8]);let p=t[1]&&C();return{c(){e=g(),v(o.$$.fragment),s=g(),v(i.$$.fragment),a=g(),v(m.$$.fragment),n=g(),p&&p.c(),l=k(),this.h()},l(t){S('[data-svelte="svelte-yzlqez"]',document.head).forEach(c),e=u(t),w(o.$$.fragment,t),s=u(t),w(i.$$.fragment,t),a=u(t),w(m.$$.fragment,t),n=u(t),p&&p.l(t),l=k(),this.h()},h(){document.title="WAB - WorkAttack Blog"},m(t,c){f(t,e,c),y(o,t,c),f(t,s,c),y(i,t,c),f(t,a,c),y(m,t,c),f(t,n,c),p&&p.m(t,c),f(t,l,c),r=!0},p(t,[e]){const s={};1&e&&(s.post=t[0][0]),o.$set(s);const a={};1&e&&(a.posts=t[0].slice(1)),i.$set(a);const n={};512&e&&(n.$$scope={dirty:e,ctx:t}),m.$set(n),t[1]?p?2&e&&E(p,1):(p=C(),p.c(),E(p,1),p.m(l.parentNode,l)):p&&(L(),b(p,1,1,()=>{p=null}),A())},i(t){r||(E(o.$$.fragment,t),E(i.$$.fragment,t),E(m.$$.fragment,t),E(p),r=!0)},o(t){b(o.$$.fragment,t),b(i.$$.fragment,t),b(m.$$.fragment,t),b(p),r=!1},d(t){t&&c(e),j(o,t),t&&c(s),j(i,t),t&&c(a),j(m,t),t&&c(n),p&&p.d(t),t&&c(l)}}}function G(t,e,s){let a,n;B(t,z,t=>s(4,a=t));let l=[],r=!0;async function o(t){await P("/articles/"+t)}function c(){const t=JSON.parse(localStorage.getItem("posts"+a));if(!t.length)throw new Error("Error on local storage!");return t.slice(0,5)}N(async()=>{let t;n=navigator.onLine,s(1,r=!0),t=n?await async function(){let t;const e=await fetch("https://dev.to/api/articles?page=1");return t=await e.json(),localStorage.setItem("posts1",JSON.stringify(t)),t.slice(0,5)}():c(),s(0,l=t.map(t=>D(t.id,t.title,t.description,t.tag_list,t.cover_image))),s(1,r=!1)});return[l,r,o,n,a,c,t=>o(l[0].id),t=>o(t.detail),()=>P("/page/1")]}export default class extends t{constructor(t){super(),e(this,t,G,F,s,{})}}
